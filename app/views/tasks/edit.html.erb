<%= turbo_frame_tag "task_frame_#{@task.id}" do %>
  <%= form_with(model: @task, id: :edit_task_form, class: "flex items-center w-full gap-2 px-2 py-1") do |form| %>
    <% if @task.errors.any? %>
      <div class="text-red-600">
        <h2><%= pluralize(@task.errors.count, "error") %> prohibited this task from being saved:</h2>
        <ul class="list-disc pl-5">
          <% @task.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <%= form.text_field :description, class: "flex-1 min-w-0 p-2 border border-border-input rounded-xl outline-none text-base focus:border-sky-400 focus:ring-1 focus:ring-sky-400 bg-input-bg" %>
    <div class="flex items-center gap-1 shrink-0">
      <%= button_tag(type: "submit", class: "px-3 py-1.5 rounded-full bg-sky-400 text-white text-sm font-semibold hover:bg-sky-500 transition-all duration-100 cursor-pointer border-0") do %>
        <i class="fa-solid fa-check text-xs"></i> Save
      <% end %>
      <%= link_to request.referer || @task.list, class: "px-3 py-1.5 rounded-full border border-border-input text-sm font-semibold text-text-secondary hover:bg-surface-hover transition-all duration-100 no-underline", data: { turbo_frame: "_top" } do %>
        <i class="fa-solid fa-xmark text-xs"></i> Cancel
      <% end %>
    </div>
  <% end %>
<% end %>
